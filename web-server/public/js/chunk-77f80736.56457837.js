(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-77f80736"],{"08bf":function(t,a,i){"use strict";i("95bd")},3032:function(t,a,i){"use strict";i("b567")},"5f20":function(t,a,i){"use strict";i("b4d5")},"90d5":function(t,a,i){},"95bd":function(t,a,i){},b4d5:function(t,a,i){},b567:function(t,a,i){},c84b:function(t,a,i){"use strict";i.r(a);var s=function(){var t=this,a=t._self._c;return a("div",{staticClass:"container"},[a("div",{staticClass:"box_out"},[a("div",{staticClass:"box"},[a("div",{staticClass:"left"},[a("detail-list")],1),a("div",{staticClass:"right"},[a("detail-side",{staticClass:"side"})],1)])])])},e=[],n=function(){var t=this,a=t._self._c;return a("div",{staticClass:"blog-content-box",staticStyle:{"margin-top":"30px"}},[a("div",{staticClass:"wrapper"},[a("h1",{staticClass:"title"},[t._v(t._s(t.blogDetail.title))]),a("div",{staticClass:"time"},[a("span",{staticClass:"date"},[a("i",{staticClass:"iconfont icon-date"}),t._v(t._s(t.blogDetail.create_time))])]),a("div",{staticClass:"detail"},[a("mavon-editor",{staticClass:"mavon",attrs:{defaultOpen:"preview",toolbarsFlag:!1,subfield:!1,boxShadow:!1},model:{value:t.blogDetail.content,callback:function(a){t.$set(t.blogDetail,"content",a)},expression:"blogDetail.content"}})],1),a("comment",{staticStyle:{"margin-top":"80px"}})],1)])},c=[],o=function(){var t=this,a=t._self._c;return a("div",{staticClass:"comment-box"},[0===t.isSignIn?a("div",{staticClass:"signInText"},[t._v("登录留言吧")]):a("div",{staticClass:"input-box"},[a("el-divider"),a("h3",{staticClass:"_title"},[t._v("开始评论吧")]),a("div",{staticClass:"input-top"},[a("div",{staticClass:"img"},[a("img",{staticClass:"avatar",attrs:{src:t.userinfo.head_img,alt:""}}),a("p",{staticClass:"username"},[t._v(t._s(t.userinfo.nickname))])]),a("div",{staticClass:"text"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.submitText,expression:"submitText"}],staticClass:"comment-content",domProps:{value:t.submitText},on:{input:function(a){a.target.composing||(t.submitText=a.target.value)}}})])]),a("div",{staticClass:"input-bottom"},[a("a",{staticClass:"submit",attrs:{href:"javascript:void(0)"},on:{click:t.publicComment}},[t._v("发表评论")])])],1),a("el-divider"),a("div",{staticClass:"all_comment"},[a("p",{staticClass:"title"},[t._v("全部评论"),a("span",{staticClass:"total"},[t._v(t._s(t.comments.length))]),t._v("条：")]),a("div",{staticClass:"comment-list"},t._l(t.comments,(function(i){return a("div",{key:i.id,staticClass:"comment-item"},[a("div",{staticClass:"item_l"},[a("img",{staticClass:"avatar",attrs:{src:i.head_img,alt:""}}),a("p",{staticClass:"username"},[t._v(t._s(i.nickname))])]),a("div",{staticClass:"item_r"},[a("div",{staticClass:"comment-content"},[a("div",{staticClass:"comment_text"},[t._v(t._s(i.cm_content))]),a("div",{staticClass:"comment_time"},[a("span",{staticClass:"date"},[t._v(t._s(i.create_time))])])])])])})),0)])],1)},l=[],r={name:"Comment",data:function(){return{userinfo:{},submitText:"",comments:[]}},computed:{isSignIn:function(){return this.$store.state.tokens.isSignIn}},methods:{getUserInfo:function(){var t=this;this.$axios.get("/api/user/info").then((function(a){var i=a.data;0===i.code&&(t.userinfo=i.data)})).catch((function(t){console.log(t)}))},publicComment:function(){var t=this;this.$axios.post("/api/comment/public",{article_id:this.$route.params.id,content:this.submitText}).then((function(a){console.log(a),0===a.data.code&&(t.submitText="",t.getCommentList())})).catch((function(t){console.log(t)}))},getCommentList:function(){var t=this;this.$axios.get("/api/comment/list",{params:{article_id:this.$route.params.id}}).then((function(a){console.log(a),0===a.data.code&&(t.comments=a.data.data)})).catch((function(t){console.log(t)}))}},created:function(){this.getUserInfo(),this.getCommentList()}},d=r,m=(i("3032"),i("2877")),u=Object(m["a"])(d,o,l,!1,null,"52e70757",null),f=u.exports,v={name:"Detail",data:function(){return{blogDetail:{}}},components:{Comment:f},methods:{getDetail:function(){var t=this;this.$axios.get("/api/article/detail",{params:{article_id:this.$route.params.id}}).then((function(a){0===a.data.code&&(t.blogDetail=a.data.data)})).catch((function(t){console.log(t)}))}},created:function(){this.getDetail()}},g=v,p=(i("fb56"),Object(m["a"])(g,n,c,!1,null,"2d9c2823",null)),C=p.exports,_=function(){var t=this,a=t._self._c;return a("div",{staticClass:"container"},[a("div",{staticClass:"box"},[a("header",{staticClass:"header"},[a("span",{staticClass:"logo"},[a("img",{attrs:{src:t.imageUrl}})]),a("span",{staticClass:"nick"},[a("p",{domProps:{textContent:t._s(t.nickname)}})])]),a("main",{staticClass:"main"},[a("div",{staticClass:"_main"},[a("span",[t._v("发布时间："+t._s(t.blogInfo.create_time))])])]),a("footer",{staticClass:"footer"},[a("div",{staticClass:"_footer"},[a("div",{staticClass:"card Like"},[a("i",{staticClass:"el-icon-star-on",staticStyle:{color:"#7bb9ff","font-size":"19px"}}),t._v(" 获得点赞: "+t._s(t.cardForm.like)+" ")]),a("div",{staticClass:"card Viewed"},[a("i",{staticClass:"el-icon-view",staticStyle:{color:"#7bb9ff","font-size":"16px"}}),t._v(" 文章被阅读: "+t._s(t.cardForm.viewed)+" ")])])]),a("div",{staticClass:"button"},[a("el-button",{attrs:{type:"primary"}},[t._v("关注作者")])],1)])])},b=[],h={name:"DetailSide",components:{},data:function(){return{blogInfo:"",nickname:"",imageUrl:null,imgs:"../assets/img/head_img.jpg",cardForm:{like:"0",viewed:"7"}}},methods:{getDetail:function(){var t=this;this.$axios.get("/api/article/detail",{params:{article_id:this.$route.params.id}}).then((function(a){0===a.data.code&&(t.blogInfo=a.data.data,t.nickname=a.data.data.nickname,""===a.data.data.head_img||null===a.data.data.head_img?t.imageUrl=t.imgs:t.imageUrl=a.data.data.head_img)})).catch((function(t){console.log(t)}))}},created:function(){this.getDetail()}},x=h,k=(i("5f20"),Object(m["a"])(x,_,b,!1,null,"429be41a",null)),D=k.exports,w={name:"Detail",data:function(){return{blogDetail:{}}},components:{DetailList:C,DetailSide:D},methods:{},created:function(){}},$=w,S=(i("08bf"),Object(m["a"])($,s,e,!1,null,"78c35a53",null));a["default"]=S.exports},fb56:function(t,a,i){"use strict";i("90d5")}}]);
//# sourceMappingURL=chunk-77f80736.56457837.js.map