(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c40246f6"],{"008e":function(t,s,e){"use strict";var i=e("2f2b"),a=e.n(i);a.a},"083a":function(t,s,e){"use strict";var i=e("0d51"),a=TypeError;t.exports=function(t,s){if(!delete t[s])throw a("Cannot delete property "+i(s)+" of "+i(t))}},"24c6":function(t,s,e){"use strict";var i=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",[i("el-backtop",{attrs:{"visibility-height":60,bottom:80,right:80}},[i("img",{staticClass:"img_top",attrs:{src:e("90c5"),alt:""}})])],1)},a=[],n={},r=n,o=(e("008e"),e("2877")),c=Object(o["a"])(r,i,a,!1,null,"6632039a",null);s["a"]=c.exports},"25f0":function(t,s,e){"use strict";var i=e("5e77").PROPER,a=e("cb2d"),n=e("825a"),r=e("577e"),o=e("d039"),c=e("90d8"),d="toString",l=RegExp.prototype,u=l[d],f=o((function(){return"/a/b"!=u.call({source:"a",flags:"b"})})),_=i&&u.name!=d;(f||_)&&a(RegExp.prototype,d,(function(){var t=n(this),s=r(t.source),e=r(c(t));return"/"+s+"/"+e}),{unsafe:!0})},"2f2b":function(t,s,e){},3071:function(t,s,e){"use strict";var i=e("e332"),a=e.n(i);a.a},"7ef7":function(t,s,e){"use strict";var i=e("e2bc"),a=e.n(i);a.a},"8a78":function(t,s,e){t.exports=e.p+"img/words.dc19d97d.jpg"},"90c5":function(t,s,e){t.exports=e.p+"img/top.f7364f79.png"},"90d8":function(t,s,e){var i=e("c65b"),a=e("1a2d"),n=e("3a9b"),r=e("ad6d"),o=RegExp.prototype;t.exports=function(t){var s=t.flags;return void 0!==s||"flags"in o||a(t,"flags")||!n(o,t)?s:i(r,t)}},a434:function(t,s,e){"use strict";var i=e("23e7"),a=e("7b0b"),n=e("23cb"),r=e("5926"),o=e("07fa"),c=e("3a34"),d=e("3511"),l=e("65f0"),u=e("8418"),f=e("083a"),_=e("1dde"),p=_("splice"),h=Math.max,v=Math.min;i({target:"Array",proto:!0,forced:!p},{splice:function(t,s){var e,i,_,p,m,g,w=a(this),x=o(w),C=n(t,x),b=arguments.length;for(0===b?e=i=0:1===b?(e=0,i=x-C):(e=b-2,i=v(h(r(s),0),x-C)),d(x+e-i),_=l(w,i),p=0;p<i;p++)m=C+p,m in w&&u(_,p,w[m]);if(_.length=i,e<i){for(p=C;p<x-i;p++)m=p+i,g=p+e,m in w?w[g]=w[m]:f(w,g);for(p=x;p>x-i+e;p--)f(w,p-1)}else if(e>i)for(p=x-i;p>C;p--)m=p+i-1,g=p+e-1,m in w?w[g]=w[m]:f(w,g);for(p=0;p<e;p++)w[p+C]=arguments[p+2];return c(w,x-i+e),_}})},ad52:function(t,s,e){"use strict";var i=e("f45c"),a=e.n(i);a.a},d475:function(t,s,e){"use strict";e.r(s);var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"container"},[e("back-top"),e("div",{staticClass:"wrapper"},[t._m(0),e("div",{staticClass:"main"},[e("words-card"),e("words-list")],1)])],1)},a=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("header",{staticClass:"header"},[e("div",{staticClass:"logo"},[e("span",{staticClass:"title"},[t._v("留言板")]),e("span",{staticClass:"star"},[t._v("✦")])])])}],n=function(){var t=this,s=t.$createElement;t._self._c;return t._m(0)},r=[function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"container_"},[i("div",{staticClass:"card"},[i("img",{staticClass:"img",attrs:{src:e("8a78"),alt:""}}),i("h1",{staticClass:"name"},[t._v("Hevn")]),i("div",{staticClass:"tips"},[t._v("有空进来坐坐~")]),i("div",{staticClass:"icon"},[i("i",{staticClass:"iconfont icon-QQ iii"}),i("i",{staticClass:"iconfont icon-github iii"})])])])}],o={name:"About",components:{},data:function(){return{}},methods:{},created:function(){}},c=o,d=(e("3071"),e("2877")),l=Object(d["a"])(c,n,r,!1,null,"6483f2b0",null),u=l.exports,f=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"container_"},[e("div",{staticClass:"wrapper_"},[e("header",{staticClass:"words"},[t._m(0),e("el-input",{attrs:{type:"textarea",rows:6,placeholder:"请输入内容"},model:{value:t.text,callback:function(s){t.text=s},expression:"text"}}),e("div",{staticClass:"btn"},[e("span",{staticClass:"left"},[e("i",{staticClass:"el-icon-scissors"}),e("span",{directives:[{name:"copy",rawName:"v-copy",value:t.text,expression:"text"}],staticClass:"copy"},[t._v("复制")])]),e("span",{staticClass:"right"},[e("el-button",{directives:[{name:"permission",rawName:"v-permission",value:t.isSignIn,expression:"isSignIn"}],staticClass:"login",attrs:{plain:""}},[e("router-link",{attrs:{to:"/login"}},[t._v("登录")])],1),e("el-button",{directives:[{name:"debounce",rawName:"v-debounce",value:t.addWords,expression:"addWords"}],staticClass:"send",attrs:{type:"primary",plain:""}},[t._v("留言")])],1)])],1),e("main",{staticClass:"list"},[e("div",{staticClass:"top_"},[e("span",[t._v(t._s(t.newList.length)+"条评论")])]),t._l(t.newList,(function(s,i){return e("div",{key:i,class:s.father_words_id?"_box":"box"},[e("section",{class:s.father_words_id?"_card":"card"},[e("div",{class:s.father_words_id?"_main":"main"},[e("div",{class:s.father_words_id?"_img":"img_"},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:s.head_img,expression:"item.head_img"}],attrs:{alt:""}})]),e("div",{class:s.father_words_id?"info1":"info"},[e("div",{staticClass:"user"},[e("span",{staticClass:"nickname"},[t._v(t._s(s.nickname))]),e("i",{class:s.father_words_id&&s.to_user_id?"el-icon-caret-right":"off"}),e("span",[t._v(t._s(s.to_user_nickname))])]),e("div",{staticClass:"theWords",on:{click:function(e){return t.reTo(s.id)}}},[t._v(t._s(s.words))]),e("div",{staticClass:"detail"},[e("span",{staticClass:"time"},[t._v(t._s(s.create_time.slice(0,16)))]),e("i",{staticClass:"el-icon-chat-dot-round"}),1==t.is&&t.reId==s.id?e("span",{staticClass:"re",on:{click:function(e){return t._reTo(s.id)}}},[t._v("取消回复")]):e("span",{staticClass:"re",on:{click:function(e){return t.reTo(s.id)}}},[t._v("回复")])])])]),e("footer",{directives:[{name:"show",rawName:"v-show",value:1==t.is&&t.reId==s.id,expression:"is==true&&reId==item.id"}]},[e("el-input",{staticClass:"area",attrs:{type:"textarea",rows:3,placeholder:"请输入内容"},model:{value:t.reText,callback:function(s){t.reText=s},expression:"reText"}}),e("div",{staticClass:"re_btn"},[e("el-button",{staticClass:"public_btn",attrs:{type:"primary",plain:""},on:{click:function(e){return t.send(s,s.id)}}},[t._v("发布")]),e("el-button",{staticClass:"off_btn",attrs:{type:"info",plain:""},on:{click:function(e){return t._reTo(s.id)}}},[t._v("取消")])],1)],1)])])}))],2)])])},_=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"top"},[e("span",[t._v("在这里留言")])])}],p=(e("4de4"),e("d3b7"),e("a434"),e("25f0"),{name:"WordsList",components:{},data:function(){return{wordsList:[],text:"",reId:null,is:!1,reText:"",newList:[]}},methods:{getWordsList:function(){var t=this;this.$axios.get("/api/words/wordsList").then((function(s){0===s.data.code&&(t.wordsList=s.data.data,t.deal(s.data.data))})).catch((function(t){console.log(t)}))},addWords:function(){var t=this;""!=this.text&&1==this.$store.state.tokens.isSignIn&&this.$axios.post("/api/words/addWords",{words:this.text,father_words_id:0,to_user_id:null}).then((function(s){0===s.data.code&&(t.text="",t.getWordsList())})).catch((function(t){console.log(t)}))},addReWords:function(t,s){var e=this;console.log("触发"),""!=this.reText&&1==this.$store.state.tokens.isSignIn&&(0==t.father_words_id?this.$axios.post("/api/words/addWords",{words:this.reText,father_words_id:s,to_user_id:null}).then((function(t){0===t.data.code&&(e.reText="",e.getWordsList())})).catch((function(t){console.log(t)})):this.$axios.post("/api/words/addWords",{words:this.reText,father_words_id:t.father_words_id,to_user_id:s,to_user_nickname:t.nickname}).then((function(t){0===t.data.code&&(e.reText="",e.getWordsList())})).catch((function(t){console.log(t)})))},deal:function(t){var s=t.filter((function(t){return 0==t.father_words_id}));this.newList=s;var e=t.filter((function(t){return 0!=t.father_words_id}));e.reverse();for(var i=0;i<s.length;i++)for(var a=0;a<e.length;a++)s[i].id==e[a].father_words_id&&this.newList.splice(i++,0,e[a]);this.newList.reverse()},send:function(t,s){this.addReWords(t,s),this.reId=s,this.is=!1},reTo:function(t){this.reId=t,this.is=!0},_reTo:function(t){this.reId=t,this.is=!1}},computed:{isSignIn:function(){return this.$store.state.tokens.isSignIn.toString()}},created:function(){this.getWordsList()}}),h=p,v=(e("7ef7"),Object(d["a"])(h,f,_,!1,null,"30570690",null)),m=v.exports,g=e("24c6"),w={name:"Words",components:{WordsCard:u,WordsList:m,BackTop:g["a"]},data:function(){return{}},methods:{},created:function(){}},x=w,C=(e("ad52"),Object(d["a"])(x,i,a,!1,null,"c8877cec",null));s["default"]=C.exports},e2bc:function(t,s,e){},e332:function(t,s,e){},f45c:function(t,s,e){}}]);
//# sourceMappingURL=chunk-c40246f6.ac504ab7.js.map