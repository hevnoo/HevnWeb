(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-347a0fc4"],{"90ab":function(A,a,t){"use strict";t.r(a);var e=function(){var A=this,a=A._self._c;return a("div",{staticClass:"wrapper"},[a("div",{staticClass:"content"},[a("el-form",{ref:"form",attrs:{model:A.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"昵称："}},[a("el-input",{staticClass:"nickname",model:{value:A.form.nickname,callback:function(a){A.$set(A.form,"nickname",a)},expression:"form.nickname"}})],1),a("el-form-item",{attrs:{label:"头像："}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"http://127.0.0.1:3000/api/user/upload","show-file-list":!1,"on-success":A.handleAvatarSuccess,"before-upload":A.beforeAvatarUpload,name:"head_img"}},[a("img",{staticClass:"avatar",attrs:{src:null!=A.imageUrl?A.imageUrl:A.imgDefault}})]),a("p",{staticClass:"tips"},[A._v("tips:请上传2M以内JPG/PNG格式的图片，比例最好1:1")])],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:A.save}},[A._v("保存")]),a("el-button",{on:{click:A.signOut}},[A._v("退出登录")])],1)],1)],1)])},n=[],o=t("b640"),i=t.n(o),s=t("a78e"),r=t.n(s),c={name:"Personal",data:function(){return{form:{nickname:this.nickname},imageUrl:null,imgDefault:i.a}},methods:{upUserList:function(){this.$axios.post("/api/userList/upUserList",{nickname:this.form.nickname,head_img:this.imageUrl})},save:function(){var A=this;this.$axios.post("/api/user/updateUser",{nickname:this.form.nickname,head_img:this.imageUrl}).then((function(a){console.log(a),A.upUserList(),0===a.data.code&&(A.$message({message:"更新成功",type:"success"}),setTimeout((function(){location.reload()}),800))})).catch((function(A){console.log(A)}))},handleAvatarSuccess:function(A){this.imageUrl=A.data},beforeAvatarUpload:function(A){var a="image/jpeg"===A.type,t=A.size/1024/1024<2;return a||this.$message.error("上传头像图片只能是 JPG 格式!"),t||this.$message.error("上传头像图片大小不能超过 2MB!"),a&&t},getUserInfo:function(){var A=this;this.$axios.get("/api/user/info").then((function(a){var t=a.data;0===t.code&&(A.form.nickname=t.data.nickname,""===t.data.head_img||null===t.data.head_img?A.imageUrl=null:A.imageUrl=t.data.head_img)})).catch((function(A){console.log(A)}))},signOut:function(){r.a.remove("token"),this.$store.commit("tokens/SETTOKEN",""),this.$store.commit("tokens/ISSIGNIN",0),this.$router.push({name:"home"})}},created:function(){this.getUserInfo()}},p=c,u=(t("d21b"),t("2877")),l=Object(u["a"])(p,e,n,!1,null,"13aec54f",null);a["default"]=l.exports},aa2c:function(A,a,t){},b640:function(A,a){A.exports="data:image/jpeg;base64,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"},d21b:function(A,a,t){"use strict";t("aa2c")}}]);
//# sourceMappingURL=chunk-347a0fc4.5d6ba208.js.map