(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a134b006"],{"52c4":function(e,t,r){"use strict";r("8dba")},"8dba":function(e,t,r){},a55b:function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[1==e.is_show?t("div",{staticClass:"box"},[t("header",{staticClass:"header"},[t("span",{staticClass:"logo",on:{click:function(t){return e.goBack()}}},[e._v("HevnWeb")])]),t("el-form",{key:"login",ref:"loginForm",attrs:{model:e.loginForm,rules:e.loginRules,"cell-style":e.cellStyle,inline:"","status-icon":""}},[t("el-form-item",{attrs:{prop:"username"}},[t("span",{staticStyle:{color:"#e6e6ead3"}},[e._v("账号：")]),t("el-input",{attrs:{type:"username",placeholder:"请输入账号",autocomplete:"off"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),t("el-form-item",{attrs:{prop:"password"}},[t("span",{staticStyle:{color:"#e6e6ead3"}},[e._v("密码：")]),t("el-input",{attrs:{type:"password",placeholder:"请输入密码","show-password":"",autocomplete:"off"},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1),t("el-form-item",[t("el-button",{staticClass:"front",attrs:{type:"primary"},on:{click:function(t){return e.toSignUp()}}},[e._v("去注册")]),t("el-button",{staticClass:"back",attrs:{type:"primary"},on:{click:function(t){return e.signIn()}}},[e._v("登录")])],1)],1)],1):t("div",{staticClass:"re_box"},[t("header",{staticClass:"header"},[t("span",{staticClass:"logo",on:{click:function(t){return e.goBack()}}},[e._v("HevnWeb")])]),t("el-form",{key:"register",ref:"regForm",attrs:{model:e.regForm,rules:e.regRules,inline:"","status-icon":""}},[t("el-form-item",{attrs:{prop:"username"}},[t("span",{staticStyle:{color:"#e6e6ead3"}},[e._v("账号：")]),t("el-input",{attrs:{type:"username",placeholder:"请输入账号",autocomplete:"off"},model:{value:e.regForm.username,callback:function(t){e.$set(e.regForm,"username",t)},expression:"regForm.username"}})],1),t("el-form-item",{attrs:{prop:"password"}},[t("span",{staticStyle:{color:"#e6e6ead3"}},[e._v("密码：")]),t("el-input",{attrs:{type:"password",placeholder:"请输入密码","show-password":"",autocomplete:"off"},model:{value:e.regForm.password,callback:function(t){e.$set(e.regForm,"password",t)},expression:"regForm.password"}})],1),t("el-form-item",{attrs:{prop:"nickname"}},[t("span",{staticStyle:{color:"#e6e6ead3"}},[e._v("昵称：")]),t("el-input",{attrs:{type:"nickname",placeholder:"请输入用户昵称",autocomplete:"off"},model:{value:e.regForm.nickname,callback:function(t){e.$set(e.regForm,"nickname",t)},expression:"regForm.nickname"}})],1),t("el-form-item",[t("el-button",{staticClass:"_front",attrs:{type:"primary",plain:""},on:{click:function(t){return e.signUp()}}},[e._v("注册")]),t("span",{staticClass:"_back",attrs:{type:"primary"},on:{click:function(t){return e.toSignIn()}}},[e._v("返回登录"),t("i",{staticClass:"el-icon-right"})])],1)],1)],1),t("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}]})])},s=[],n=r("a78e"),a=r.n(n),i=r("e09c"),l={name:"Login",components:{},mixins:[i["a"]],data:function(){return{is_show:!0,loading:!1,userList:[],isIn:null,loginForm:{username:"",password:""},loginRules:{username:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},regForm:{username:"",password:"",nickname:""},regRules:{username:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],nickname:[{required:!0,message:"请输入昵称",trigger:"blur"}]}}},methods:{cellStyle:function(e){if(e.row<4)return"color:blue"},signIn:function(){var e=this;this.set,this.$refs["loginForm"].validate((function(t){if(!t)return!1;e.loading=!0,e.$axios.post("/api/user/login",e.loginForm).then((function(t){var r=t.data;e.addUserList(),0===r.code?(a.a.set("token",r.token),e.$store.commit("tokens/SETTOKEN",r.token),e.$store.commit("tokens/ISSIGNIN",1),setTimeout((function(){e.loading=!1,e.$router.push({name:"home"})}),1e3),e.$message({message:"登录成功",type:"success"})):(e.loading=!1,e.$message({message:r.msg,type:"error"}))}))}))},goBack:function(){this.$router.back()},signUp:function(){var e=this;this.$refs["regForm"].validate((function(t){if(!t)return console.log("error submit!!"),!1;e.$axios.post("/api/user/register",e.regForm).then((function(t){0===t.data.code?(e.$message({message:"注册成功",type:"success"}),setTimeout((function(){e.toSignIn()}),1500)):e.$message({message:t.data.msg,type:"error"})}))}))},toSignUp:function(){this.is_show=!1},toSignIn:function(){this.is_show=!0},addUserList:function(){this.$axios.post("/api/userList/addUserList",this.regForm).then((function(){}))}},created:function(){}},c=l,u=(r("52c4"),r("2877")),m=Object(u["a"])(c,o,s,!1,null,"4bd56dde",null);t["default"]=m.exports},e09c:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));r("e9c4");var o={data:function(){},methods:{set:function(e,t){localStorage.setItem(e,JSON.stringify(t))},get:function(e){return JSON.parse(localStorage.getItem(e))},remove:function(e){localStorage.removeItem(e)}},created:function(){}}},e9c4:function(e,t,r){var o=r("23e7"),s=r("d066"),n=r("2ba4"),a=r("c65b"),i=r("e330"),l=r("d039"),c=r("e8b5"),u=r("1626"),m=r("861d"),d=r("d9b5"),g=r("f36a"),p=r("4930"),f=s("JSON","stringify"),v=i(/./.exec),h=i("".charAt),b=i("".charCodeAt),k=i("".replace),F=i(1..toString),y=/[\uD800-\uDFFF]/g,w=/^[\uD800-\uDBFF]$/,S=/^[\uDC00-\uDFFF]$/,$=!p||l((function(){var e=s("Symbol")();return"[null]"!=f([e])||"{}"!=f({a:e})||"{}"!=f(Object(e))})),_=l((function(){return'"\\udf06\\ud834"'!==f("\udf06\ud834")||'"\\udead"'!==f("\udead")})),x=function(e,t){var r=g(arguments),o=t;if((m(t)||void 0!==e)&&!d(e))return c(t)||(t=function(e,t){if(u(o)&&(t=a(o,this,e,t)),!d(t))return t}),r[1]=t,n(f,null,r)},C=function(e,t,r){var o=h(r,t-1),s=h(r,t+1);return v(w,e)&&!v(S,s)||v(S,e)&&!v(w,o)?"\\u"+F(b(e,0),16):e};f&&o({target:"JSON",stat:!0,arity:3,forced:$||_},{stringify:function(e,t,r){var o=g(arguments),s=n($?x:f,null,o);return _&&"string"==typeof s?k(s,y,C):s}})}}]);
//# sourceMappingURL=chunk-a134b006.0f5074f4.js.map