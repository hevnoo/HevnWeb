(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3ab1b4f7"],{"0298":function(e,s,o){},a55b:function(e,s,o){"use strict";o.r(s);var r=function(){var e=this,s=e._self._c;return s("div",{staticClass:"container"},[1==e.is_show?s("div",{staticClass:"box"},[s("header",{staticClass:"header"},[s("span",{staticClass:"logo",on:{click:function(s){return e.goBack()}}},[e._v("HevnWeb")])]),s("el-form",{key:"login",ref:"loginForm",attrs:{model:e.loginForm,rules:e.loginRules,"cell-style":e.cellStyle,inline:"","status-icon":""}},[s("el-form-item",{attrs:{prop:"username"}},[s("span",{staticStyle:{color:"#e6e6ead3"}},[e._v("账号：")]),s("el-input",{attrs:{type:"username",placeholder:"请输入账号",autocomplete:"off"},model:{value:e.loginForm.username,callback:function(s){e.$set(e.loginForm,"username",s)},expression:"loginForm.username"}})],1),s("el-form-item",{attrs:{prop:"password"}},[s("span",{staticStyle:{color:"#e6e6ead3"}},[e._v("密码：")]),s("el-input",{attrs:{type:"password",placeholder:"请输入密码","show-password":"",autocomplete:"off"},model:{value:e.loginForm.password,callback:function(s){e.$set(e.loginForm,"password",s)},expression:"loginForm.password"}})],1),s("el-form-item",[s("el-button",{staticClass:"front",attrs:{type:"primary"},on:{click:function(s){return e.toSignUp()}}},[e._v("去注册")]),s("el-button",{staticClass:"back",attrs:{type:"primary"},on:{click:function(s){return e.signIn()}}},[e._v("登录")])],1)],1)],1):s("div",{staticClass:"re_box"},[s("header",{staticClass:"header"},[s("span",{staticClass:"logo",on:{click:function(s){return e.goBack()}}},[e._v("HevnWeb")])]),s("el-form",{key:"register",ref:"regForm",attrs:{model:e.regForm,rules:e.regRules,inline:"","status-icon":""}},[s("el-form-item",{attrs:{prop:"username"}},[s("span",{staticStyle:{color:"#e6e6ead3"}},[e._v("账号：")]),s("el-input",{attrs:{type:"username",placeholder:"请输入账号",autocomplete:"off"},model:{value:e.regForm.username,callback:function(s){e.$set(e.regForm,"username",s)},expression:"regForm.username"}})],1),s("el-form-item",{attrs:{prop:"password"}},[s("span",{staticStyle:{color:"#e6e6ead3"}},[e._v("密码：")]),s("el-input",{attrs:{type:"password",placeholder:"请输入密码","show-password":"",autocomplete:"off"},model:{value:e.regForm.password,callback:function(s){e.$set(e.regForm,"password",s)},expression:"regForm.password"}})],1),s("el-form-item",{attrs:{prop:"nickname"}},[s("span",{staticStyle:{color:"#e6e6ead3"}},[e._v("昵称：")]),s("el-input",{attrs:{type:"nickname",placeholder:"请输入用户昵称",autocomplete:"off"},model:{value:e.regForm.nickname,callback:function(s){e.$set(e.regForm,"nickname",s)},expression:"regForm.nickname"}})],1),s("el-form-item",[s("el-button",{staticClass:"_front",attrs:{type:"primary",plain:""},on:{click:function(s){return e.signUp()}}},[e._v("注册")]),s("span",{staticClass:"_back",attrs:{type:"primary"},on:{click:function(s){return e.toSignIn()}}},[e._v("返回登录"),s("i",{staticClass:"el-icon-right"})])],1)],1)],1),s("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}]})])},t=[],a=o("a78e"),n=o.n(a),i={name:"Login",components:{},data:function(){return{is_show:!0,loading:!1,loginForm:{username:"",password:""},loginRules:{username:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},regForm:{username:"",password:"",nickname:""},regRules:{username:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],nickname:[{required:!0,message:"请输入昵称",trigger:"blur"}]}}},methods:{cellStyle:function(e){if(e.row<4)return"color:blue"},signIn:function(){var e=this;this.$refs["loginForm"].validate((function(s){if(!s)return!1;e.loading=!0,e.$axios.post("/api/user/login",e.loginForm).then((function(s){var o=s.data;0===o.code?(n.a.set("token",o.token),e.$store.commit("tokens/SETTOKEN",o.token),e.$store.commit("tokens/ISSIGNIN",1),setTimeout((function(){e.loading=!1,e.$router.push({name:"home"})}),1e3),e.$message({message:"登录成功",type:"success"})):(e.loading=!1,e.$message({message:o.msg,type:"error"}))}))}))},goBack:function(){this.$router.back()},signUp:function(){var e=this;this.$refs["regForm"].validate((function(s){if(!s)return console.log("error submit!!"),!1;e.$axios.post("/api/user/register",e.regForm).then((function(s){console.log(s),0===s.data.code?e.$message({message:"注册成功",type:"success"}):e.$message({message:s.data.msg,type:"error"})}))}))},toSignUp:function(){this.is_show=!1},toSignIn:function(){this.is_show=!0}}},l=i,c=(o("e315"),o("2877")),u=Object(c["a"])(l,r,t,!1,null,"00ca2b34",null);s["default"]=u.exports},e315:function(e,s,o){"use strict";o("0298")}}]);
//# sourceMappingURL=chunk-3ab1b4f7.c100485a.js.map